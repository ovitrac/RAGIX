# RAGIX Components Reference -- v0.70.0

> Auto-generated by `scripts/install_claude.sh` on 2026-02-20T17:44:07Z
> Re-run the installer to refresh this file.

---

## Slash Commands (10)

| Command | Description | Requires |
|---------|-------------|----------|
| /memory | Master memory command (7 subcommands) | Memory MCP |
| /memory-add | Store findings with tags (alias) | Memory MCP |
| /memory-search | FTS5 + hybrid search (alias) | Memory MCP |
| /memory-recall | Token-budgeted context injection (alias) | Memory MCP |
| /koas-audit | Run complete KOAS audit on a project | Main MCP |
| /koas-kernels | List available KOAS kernels | Main MCP |
| /koas-report-fr | KOAS audit with French report | Main MCP |
| /koas-status | Check KOAS workspace status | Main MCP |
| /ragix-system | System info for deployment assessment | Main MCP |
| /ragix-models | List/manage Ollama models | Main MCP |

## MCP Servers (2)

| Server | ID | Tools | Command | Profile |
|--------|----|-------|---------|---------|
| Memory | ragix-memory | 17 | `ragix-memory serve --db memory.db` | memory (default) |
| Main | ragix-mcp | 38 | `python3 -m MCP.ragix_mcp_server` | full (opt-in) |

### Memory MCP Tools (17)

| Tool | Purpose |
|------|---------|
| memory_recall | Token-budgeted retrieval for context injection |
| memory_search | FTS5 + hybrid scoring search |
| memory_propose | Governed write path (policy validation) |
| memory_write | Direct write (bypass governance) |
| memory_read | Read a memory item by ID |
| memory_update | Update an existing item |
| memory_link | Create semantic links between items |
| memory_consolidate | Dedup, merge, tier promotion cycle |
| memory_stats | Store statistics |
| memory_palace_list | List memory palaces |
| memory_palace_get | Get palace contents |
| memory_session_inject | Inject context into session |
| memory_session_store | Store session context |
| memory_workspace_list | List registered workspaces |
| memory_workspace_register | Register a new workspace |
| memory_workspace_remove | Remove a workspace |
| memory_metrics | Tool call metrics and performance |

### Main MCP Tools (38)

| Tool | Category | Purpose |
|------|----------|---------|
| ragix_chat | Core | Chat with local LLM |
| ragix_scan_repo | Core | Scan and index a repository |
| ragix_read_file | Core | Read file contents |
| ragix_search | Core | Hybrid search (RRF) |
| ragix_workflow | Core | Execute workflow templates |
| ragix_health | Core | System health check |
| ragix_templates | Core | List workflow templates |
| ragix_config | Core | Show configuration |
| ragix_verify_logs | Core | Verify audit logs integrity |
| ragix_logs | Core | View recent command logs |
| ragix_agent_step | Core | Single agent reasoning step |
| ragix_models_list | Models | List available Ollama models |
| ragix_model_info | Models | Model details and parameters |
| ragix_system_info | System | System info (CPU, GPU, RAM) |
| ragix_ast_scan | AST | Scan codebase AST structure |
| ragix_ast_metrics | AST | Compute code metrics |
| koas_init | KOAS | Initialize audit workspace |
| koas_run | KOAS | Execute audit pipeline |
| koas_status | KOAS | Audit workspace status |
| koas_summary | KOAS | Stage summary report |
| koas_list_kernels | KOAS | List available kernels |
| koas_report | KOAS | Generate audit report |
| koas_security_discover | Security | Network discovery scan |
| koas_security_scan_ports | Security | Port scanning |
| koas_security_ssl_check | Security | SSL/TLS certificate check |
| koas_security_vuln_scan | Security | Vulnerability scanning |
| koas_security_dns_check | Security | DNS configuration check |
| koas_security_compliance | Security | Compliance assessment |
| koas_security_risk | Security | Risk scoring |
| koas_security_report | Security | Security report generation |
| koas_audit_scan | Audit | Code audit scan |
| koas_audit_metrics | Audit | Code quality metrics |
| koas_audit_hotspots | Audit | Complexity hotspots |
| koas_audit_dependencies | Audit | Dependency analysis |
| koas_audit_dead_code | Audit | Dead code detection |
| koas_audit_risk | Audit | Risk assessment |
| koas_audit_compliance | Audit | Standards compliance |
| koas_audit_report | Audit | Audit report generation |

## Hooks (4)

| Hook | Event | Matcher | Type | Script | Purpose |
|------|-------|---------|------|--------|---------|
| Safety guard | PreToolUse | Bash | command | ragix_safety_guard.sh | Block dangerous shell commands |
| Memory inject | UserPromptSubmit | * | command | ragix_memory_inject.sh | Auto-recall relevant memory |
| Audit logger | PostToolUse | Bash\|Write\|Edit | command | ragix_audit_logger.sh | Log tool actions |
| Stop validator | Stop | * | prompt | (inline) | Remind to test if code changed |

### Safety Guard Patterns

Mirrors `unix-rag-agent.py:71-113` denylist:
- System destruction: `rm -rf /`, `mkfs.`, `dd if=`, `shutdown`, `reboot`
- Privilege escalation: `sudo`, `su -`, `su root`
- Pipe-to-shell: `curl|sh`, `wget|bash`
- Git destructive: `git reset --hard`, `git clean -fd`, `git push --force`

## CLI Entry Points (10)

| Command | Module | Purpose |
|---------|--------|---------|
| ragix | ragix_core.cli | Main RAGIX CLI |
| ragix-unix-agent | ragix_unix.cli | Unix-RAG interactive agent |
| ragix-web | ragix_web.server | Web UI server |
| ragix-index | ragix_unix.index_cli | Repository indexing |
| ragix-batch | ragix_unix.batch_cli | Batch processing |
| ragix-vault | ragix_unix.vault_cli | Secret vault management |
| ragix-wasp | ragix_unix.wasp_cli | WASP protocol handler |
| ragix-ast | ragix_unix.ast_cli | AST analysis CLI |
| ragix-koas | ragix_kernels.orchestrator | KOAS audit orchestrator |
| ragix-memory | ragix_core.memory.cli | Memory CLI (19 subcommands) |

## Agent Modes (3)

| Mode | Planner | Worker | Verifier | Use Case |
|------|---------|--------|----------|----------|
| MINIMAL | session model | session model | session model | Low VRAM / CPU-only |
| STRICT | mistral:7b+ | granite3.1-moe:3b | granite3.1-moe:3b | Balanced quality/speed |
| CUSTOM | user-defined | user-defined | user-defined | Full control |

## Quick Start

```bash
# Install with default profile (memory MCP + hooks)
bash scripts/install_claude.sh

# Install with all MCP servers
bash scripts/install_claude.sh --profile full

# Preview without modifying
bash scripts/install_claude.sh --dry-run

# Remove RAGIX integration
bash scripts/install_claude.sh --uninstall
```

## Verification

```bash
# Check settings validity
python3 -m json.tool .claude/settings.local.json
python3 -m json.tool .claude/settings.json

# Test safety guard
echo '{"tool_input":{"command":"rm -rf /"}}' | bash scripts/hooks/ragix_safety_guard.sh
# Expected: exit 2 (blocked)

echo '{"tool_input":{"command":"ls -la"}}' | bash scripts/hooks/ragix_safety_guard.sh
# Expected: exit 0 (allowed)

# Test audit logger
echo '{"tool_name":"Bash","tool_input":{"command":"ls"}}' | bash scripts/hooks/ragix_audit_logger.sh
cat .agent_logs/commands.log
```
