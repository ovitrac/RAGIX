# üõ†Ô∏è RAGIX Unix Toolbox

Small, robust helpers for **sovereign / local LLMs** and agent frameworks.

This toolbox provides **predictable, safe, auditable** Unix-like operations as
standalone commands or as callable MCP tools.

---

# 1. Goals

- Avoid fragile one-liners generated by LLMs  
- Provide clean, deterministic **pipable** commands  
- Keep syntax **short** and **LLM-friendly**  
- Unified CLI: `rt <command> ...`  
- Optional JSON output for agent consumption  

---

# 2. Usage

Install:

```bash
pip install -r requirements.txt
chmod +x rt.sh rt-find.sh rt-grep.sh
export PATH="$PWD:$PATH"
```

Run:

```bash
python3 ragix_tools.py <command> ...
# or
rt <command> ...
```

------

# 3. Commands

## 3.1 File discovery ‚Äî `find`

```bash
rt find ROOT [--ext py --ext md] [--name substring] \
   [--max-depth N] [--min-size BYTES] [--max-size BYTES] \
   [--since ISO] [--until ISO] [--json]
```

Output:
 `path` ¬∑ `size_bytes` ¬∑ `mtime_iso` ¬∑ `ext`
 or JSON.

------

## 3.2 Stats ‚Äî `stats`

```bash
rt stats ROOT [--max-depth N] [--with-lines] [--by-ext] [--json]
```

Shows:

- file count
- total size
- optional line counts
- per-extension stats

------

## 3.3 Ranking ‚Äî `top`

```bash
rt top ROOT [-n 20] [--max-depth N] \
   [--by size|mtime|lines] [--ascending] [--json]
```

------

## 3.4 Line counting ‚Äî `lines`

```bash
rt lines ROOT [--max-depth N] [--ext py] \
   [--skip-binary] [--json]
```

------

## 3.5 Text search ‚Äî `grep`

Patterns inside one call = **OR**
 AND is done via piping:

```bash
# OR logic
rt grep --root . --ext py -e "TODO" -e "FIXME"

# AND logic
rt grep --root . -e password -l \
  | rt grep --from-stdin -e DEBUG -l
```

Full syntax:

```bash
rt grep --root ROOT [--ext py] [--max-depth N] \
   -e PATTERN -e PATTERN2 \
   [--regex] [-i] [--skip-binary] \
   [-l] [--max-matches-per-file N] [--json]
```

------

## 3.6 Safe replacement ‚Äî `replace`

```bash
rt replace --root ROOT [--ext md --ext py] \
   [--max-depth N] [--from-stdin] \
   --old "OLD" [--new "NEW"] \
   [--regex] [--dry-run] \
   [--no-backup] [--backup-ext ".bak"]
```

Backups by default.

------

## 3.7 Document conversion ‚Äî `doc2md`

```bash
rt doc2md INPUT... [--out-dir md_out] [--overwrite] [--json]
```

Uses `pandoc` if available:

- Ubuntu: `sudo apt-get install pandoc`
- macOS: `brew install pandoc`

------

# 4. Agent Integration (MCP / RAGIX / custom agents)

This toolbox is also available through:

```
MCP/ragix_tools_spec.json
```

It defines MCP-ready tool schemas for all commands.

Agents may call:

- `rt_find`
- `rt_stats`
- `rt_top`
- `rt_lines`
- `rt_grep`
- `rt_replace`
- `rt_doc2md`

Each exposes:

- A clean CLI command
- A strict JSON schema
- JSON output for structured consumption

------

# 5. Notes

- Output can be piped into other Unix commands
- JSON mode recommended for agent workflows
- Works well with **RAGIX**, **RAGGAE**, and external MCP servers