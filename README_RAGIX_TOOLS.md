# Ragix Unix Toolbox

Small, robust helpers for sovereign / local LLMs and agents.

## Goals

- Provide **predictable, safe** Unix-like operations that LLMs can call.
- Avoid fragile ad-hoc one-liners generated by the model.
- Keep **syntax short and regular**, with JSON output when needed.

## Commands

All commands are exposed through:

```bash
python3 Ragix_tools.py <command> ...
# or, with wrapper:
rt <command> ...
```

### 1. File discovery

#### `find`

Recursive file listing with filters.

```bash
rt find ROOT [--ext py --ext md] [--name substring] \
   [--max-depth N] [--min-size BYTES] [--max-size BYTES] \
   [--since ISO] [--until ISO] [--json]
```

Output: TSV (`path size mtime ext`) or JSON list.

#### `stats`

Global / per-extension stats.

```bash
rt stats ROOT [--max-depth N] [--with-lines] [--by-ext] [--json]
```

### 2. Ranking

#### `top`

Top-N files by size / mtime / lines.

```bash
rt top ROOT [-n 20] [--max-depth N] [--by size|mtime|lines] \
   [--ascending] [--json]
```

### 3. Line counting

#### `lines`

Count lines per file.

```bash
rt lines ROOT [--max-depth N] [--ext py --ext md] \
   [--skip-binary] [--json]
```

### 4. Text search

#### `grep`

Patterns are **OR**-combined inside one call.
To emulate **AND**, chain calls with `--from-stdin`.

```bash
rt grep --root ROOT [--ext py] [--max-depth N] \
   -e "PATTERN1" -e "PATTERN2" \
   [--regex] [-i|--ignore-case] [--skip-binary] \
   [-l|--files-with-matches] [--max-matches-per-file N] [--json]
```

Examples:

* “TODO or FIXME in .py files”:

  ```bash
  rt grep --root . --ext py -e "TODO" -e "FIXME"
  ```

* “Files that contain `password` **and** `DEBUG`”:

  ```bash
  rt grep --root . -e "password" -l \
    | rt grep --from-stdin -e "DEBUG" -l
  ```

### 5. Safe replacement

#### `replace`

Safe bulk replacement, backups by default.

```bash
rt replace --root ROOT [--ext md --ext py] \
   [--max-depth N] [--from-stdin] \
   --old "OLD" [--new "NEW"] \
   [--regex] [--dry-run] [--no-backup] [--backup-ext ".bak"]
```

### 6. Document conversion

#### `doc2md`

Convert `.docx`, `.odt`, `.pdf` to Markdown via `pandoc`.

```bash
rt doc2md INPUT... [--out-dir md_out] [--overwrite] [--json]
```

If `pandoc` is missing, the tool prints basic install hints:

* Debian/Ubuntu: `sudo apt-get install pandoc`
* macOS (brew): `brew install pandoc`
* Others: see pandoc website.

---

## 4. Tool spec (JSON) for agents

This is a generic spec you can feed into your agent framework.  
Each entry corresponds to one subcommand and gives:

- `command`: the actual CLI to run
- `parameters`: JSON-schema describing arguments


---

## TO BE DONE

* wire `Ragix_tools_spec.json` into RAGIX / MCP / whatever agent layer you prefer.xxxxxxxxxx python3 Ragix_tools.py <command> ...# or, with wrapper:rt <command> ...bash