# =============================================================================
# RAGIX v0.62.0 Requirements
# =============================================================================
#
# Author: Olivier Vitrac, PhD, HDR | olivier.vitrac@adservio.fr | Adservio | 2025-12-20
#
# Install:
#   pip install -r requirements.txt
#
# Or use conda environment:
#   conda env create -f environment.yaml
#   conda activate ragix-env
#
# =============================================================================

# -----------------------------------------------------------------------------
# Core Dependencies (Required)
# -----------------------------------------------------------------------------

# HTTP client for Ollama API
requests>=2.31.0

# Model Context Protocol (MCP) server + CLI
mcp[cli]>=0.1.0

# YAML configuration
pyyaml>=6.0

# -----------------------------------------------------------------------------
# Project RAG - ChromaDB Vector Store (v0.33+)
# -----------------------------------------------------------------------------

# ChromaDB vector database (GPU-accelerated when CUDA available)
chromadb>=1.0.0

# Sentence embeddings for vector search
# Note: sentence-transformers 5.x has HuggingFace API issues, use 4.x
sentence-transformers>=3.0.0,<5.0.0

# HuggingFace Hub - pin to stable version (5.x breaks sentence-transformers)
huggingface-hub>=0.26.0,<1.0

# ONNX runtime for ChromaDB embeddings
onnxruntime>=1.14.1

# Vector similarity search (for Chat RAG / BM25 fallback)
faiss-cpu>=1.7.4

# Office document support (PPTX, XLSX, DOCX)
python-pptx>=0.6.21
openpyxl>=3.1.0

# -----------------------------------------------------------------------------
# Web UI (Optional - for ragix_app.py)
# -----------------------------------------------------------------------------

# Streamlit web framework
streamlit>=1.28.0

# FastAPI web framework (for ragix_web, koas_mcp_demo)
fastapi>=0.109.0
uvicorn>=0.27.0

# Async HTTP client (for Ollama API in async contexts)
httpx>=0.26.0

# -----------------------------------------------------------------------------
# Cloud LLM Backends (Optional - breaks sovereignty)
# -----------------------------------------------------------------------------

# Anthropic Claude API (optional)
# anthropic>=0.18.0

# OpenAI ChatGPT API (optional)
# openai>=1.12.0

# -----------------------------------------------------------------------------
# Monitoring & Resilience (Optional)
# -----------------------------------------------------------------------------

# System monitoring
psutil>=5.9.0

# Cryptography for encrypted vaults
cryptography>=41.0.0

# -----------------------------------------------------------------------------
# Development (Optional)
# -----------------------------------------------------------------------------

# Testing
pytest>=7.0.0
pytest-asyncio>=0.21.0

# Type checking
mypy>=1.0.0

# Code formatting
black>=23.0.0
isort>=5.12.0

# -----------------------------------------------------------------------------
# Report Generation (Optional - for PDF reports)
# -----------------------------------------------------------------------------

# Template engine for reports
jinja2>=3.1.0

# PDF generation (weasyprint is more reliable than pdfkit)
weasyprint>=60.0
